{"file_contents":{"app.py":{"content":"import os\nimport re\nimport base64\nfrom flask import Flask, render_template, request, redirect, url_for, make_response, send_from_directory\nfrom flask_sqlalchemy import SQLAlchemy\nfrom datetime import datetime\n\napp = Flask(__name__)\napp.config['SECRET_KEY'] = os.environ.get('SESSION_SECRET', 'dev-secret-key-change-in-production')\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///contracts.db'\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\ndb = SQLAlchemy(app)\n\nclass Template(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(200), nullable=False)\n    category = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    \n    def __repr__(self):\n        return f'<Template {self.title}>'\n\ndef extract_variables(content):\n    \"\"\"Extract variables from template content (e.g., {client_name})\"\"\"\n    pattern = r'\\{([^}]+)\\}'\n    variables = re.findall(pattern, content)\n    return list(set(variables))\n\ndef fill_template(content, variables_dict):\n    \"\"\"Fill template content with provided variable values\"\"\"\n    filled_content = content\n    for var, value in variables_dict.items():\n        filled_content = filled_content.replace(f'{{{var}}}', value)\n    return filled_content\n\n@app.route('/static/<path:path>')\ndef send_static(path):\n    return send_from_directory('static', path)\n\n@app.route('/')\ndef index():\n    templates = Template.query.order_by(Template.category, Template.title).all()\n    \n    templates_by_category = {}\n    for template in templates:\n        if template.category not in templates_by_category:\n            templates_by_category[template.category] = []\n        templates_by_category[template.category].append(template)\n    \n    success_message = request.args.get('success_message')\n    \n    return render_template('index.html', templates_by_category=templates_by_category, success_message=success_message)\n\n@app.route('/create-template', methods=['GET', 'POST'])\ndef create_template():\n    message = None\n    message_type = None\n    \n    if request.method == 'POST':\n        title = request.form.get('title')\n        category = request.form.get('category')\n        content = request.form.get('content')\n        \n        if not title or not category or not content:\n            message = 'All fields are required!'\n            message_type = 'danger'\n            return render_template('create_template.html', message=message, message_type=message_type)\n        \n        new_template = Template(title=title, category=category, content=content)\n        db.session.add(new_template)\n        db.session.commit()\n        \n        return redirect(url_for('index', success_message=f'Template \"{title}\" created successfully!'))\n    \n    return render_template('create_template.html', message=message, message_type=message_type)\n\n@app.route('/edit-template/<int:id>', methods=['GET', 'POST'])\ndef edit_template(id):\n    template = Template.query.get_or_404(id)\n    message = None\n    message_type = None\n    \n    if request.method == 'POST':\n        template.title = request.form.get('title')\n        template.category = request.form.get('category')\n        template.content = request.form.get('content')\n        \n        if not template.title or not template.category or not template.content:\n            message = 'All fields are required!'\n            message_type = 'danger'\n            return render_template('edit_template.html', template=template, message=message, message_type=message_type)\n        \n        db.session.commit()\n        return redirect(url_for('index', success_message=f'Template \"{template.title}\" updated successfully!'))\n    \n    return render_template('edit_template.html', template=template, message=message, message_type=message_type)\n\n@app.route('/delete-template/<int:id>', methods=['POST'])\ndef delete_template(id):\n    template = Template.query.get_or_404(id)\n    title = template.title\n    \n    db.session.delete(template)\n    db.session.commit()\n    \n    return redirect(url_for('index', success_message=f'Template \"{title}\" deleted successfully!'))\n\n@app.route('/generate-contract/<int:id>', methods=['GET', 'POST'])\ndef generate_contract(id):\n    template = Template.query.get_or_404(id)\n    variables = extract_variables(template.content)\n    \n    if request.method == 'POST':\n        variables_dict = {}\n        for var in variables:\n            value = request.form.get(var, '')\n            # Format date fields nicely\n            if 'date' in var.lower() and value:\n                try:\n                    date_obj = datetime.strptime(value, '%Y-%m-%d')\n                    value = date_obj.strftime('%B %d, %Y')\n                except:\n                    pass\n            # Handle currency fields\n            elif any(keyword in var.lower() for keyword in ['amount', 'price', 'fee', 'cost', 'salary', 'rent', 'payment']) and value:\n                currency = request.form.get(f'{var}_currency', '$')\n                value = f'{currency}{value}'\n            variables_dict[var] = value\n        \n        signature_data = request.form.get('signature')\n        \n        filled_content = fill_template(template.content, variables_dict)\n        \n        return render_template('preview.html', \n                             template=template, \n                             content=filled_content, \n                             signature=signature_data,\n                             variables=variables_dict,\n                             now=datetime.now())\n    \n    return render_template('generate_contract.html', template=template, variables=variables)\n\n@app.route('/admin')\ndef admin():\n    templates = Template.query.order_by(Template.category, Template.title).all()\n    \n    templates_by_category = {}\n    for template in templates:\n        if template.category not in templates_by_category:\n            templates_by_category[template.category] = []\n        templates_by_category[template.category].append(template)\n    \n    return render_template('admin.html', templates_by_category=templates_by_category)\n\n@app.route('/download-pdf/<int:template_id>', methods=['POST'])\ndef download_pdf(template_id):\n    from weasyprint import HTML\n    from io import BytesIO\n    from flask import send_file\n    \n    content = request.form.get('content', '')\n    signature = request.form.get('signature', '')\n    template_title = request.form.get('template_title', 'contract')\n    \n    html_content = f'''\n    <!DOCTYPE html>\n    <html>\n    <head>\n        <meta charset=\"UTF-8\">\n        <style>\n            @font-face {{\n                font-family: 'DejaVu Sans';\n                src: local('DejaVu Sans');\n            }}\n            body {{\n                font-family: 'DejaVu Sans', Arial, sans-serif;\n                line-height: 1.6;\n                margin: 40px;\n                color: #333;\n            }}\n            .contract-content {{\n                white-space: pre-wrap;\n                margin-bottom: 40px;\n            }}\n            .signature-section {{\n                margin-top: 60px;\n                border-top: 2px solid #333;\n                padding-top: 20px;\n            }}\n            .signature-image {{\n                max-width: 300px;\n                border: 1px solid #ccc;\n                padding: 10px;\n                margin-top: 10px;\n            }}\n            h1 {{\n                color: #2c3e50;\n                border-bottom: 3px solid #3498db;\n                padding-bottom: 10px;\n            }}\n        </style>\n    </head>\n    <body>\n        <h1>{template_title}</h1>\n        <div class=\"contract-content\">{content}</div>\n        <div class=\"signature-section\">\n            <p><strong>Electronic Signature:</strong></p>\n            <img src=\"{signature}\" class=\"signature-image\" />\n            <p style=\"margin-top: 20px;\"><small>Signed on: {datetime.now().strftime(\"%B %d, %Y at %I:%M %p\")}</small></p>\n        </div>\n    </body>\n    </html>\n    '''\n    \n    pdf_file = BytesIO()\n    HTML(string=html_content, encoding='utf-8').write_pdf(pdf_file)\n    pdf_file.seek(0)\n    \n    filename = f\"{template_title.replace(' ', '_')}.pdf\"\n    \n    return send_file(\n        pdf_file,\n        mimetype='application/pdf',\n        as_attachment=True,\n        download_name=filename\n    )\n\ndef init_db():\n    \"\"\"Initialize database with sample templates\"\"\"\n    with app.app_context():\n        db.create_all()\n        \n        if Template.query.count() == 0:\n            templates_data = [\n                # Business & Employment\n                {\n                    'title': 'Non-Disclosure Agreement (NDA)',\n                    'category': 'Business & Employment',\n                    'content': '''NON-DISCLOSURE AGREEMENT\n\nThis Non-Disclosure Agreement (\"Agreement\") is entered into on {date} by and between:\n\nDisclosing Party: {disclosing_party_name}\nReceiving Party: {receiving_party_name}\n\n1. CONFIDENTIAL INFORMATION\nThe Receiving Party acknowledges that it may receive confidential information from the Disclosing Party regarding {business_purpose}.\n\n2. OBLIGATIONS\nThe Receiving Party agrees to:\n- Maintain confidentiality of all disclosed information\n- Use the information solely for {intended_purpose}\n- Not disclose information to third parties without written consent\n\n3. TERM\nThis Agreement shall remain in effect for {term_duration} from the date of signing.\n\n4. GOVERNING LAW\nThis Agreement shall be governed by the laws of {jurisdiction}.\n\nBy signing below, both parties agree to the terms outlined in this Agreement.'''\n                },\n                {\n                    'title': 'Employment Agreement',\n                    'category': 'Business & Employment',\n                    'content': '''EMPLOYMENT AGREEMENT\n\nThis Employment Agreement is made on {date} between:\n\nEmployer: {employer_name}\nEmployee: {employee_name}\n\n1. POSITION\nThe Employee is hired for the position of {job_title}.\n\n2. COMPENSATION\nThe Employee will receive a salary of {salary} per {pay_period}.\n\n3. START DATE\nEmployment will commence on {start_date}.\n\n4. DUTIES AND RESPONSIBILITIES\nThe Employee agrees to perform duties including: {job_duties}\n\n5. WORK HOURS\nStandard work hours are {work_hours} per week.\n\n6. BENEFITS\nThe Employee is entitled to: {benefits}\n\n7. TERMINATION\nEither party may terminate this agreement with {notice_period} notice.\n\nEmployee Signature: _______________  Date: _______________\nEmployer Signature: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Independent Contractor Agreement',\n                    'category': 'Business & Employment',\n                    'content': '''INDEPENDENT CONTRACTOR AGREEMENT\n\nThis Agreement is made on {date} between:\n\nClient: {client_name}\nContractor: {contractor_name}\n\n1. SERVICES\nThe Contractor agrees to provide the following services: {services_description}\n\n2. PAYMENT\nThe Client agrees to pay {payment_amount} for the services, payable {payment_terms}.\n\n3. TERM\nThis contract is effective from {start_date} to {end_date}.\n\n4. INDEPENDENT CONTRACTOR STATUS\nThe Contractor is an independent contractor, not an employee, and is responsible for all taxes.\n\n5. DELIVERABLES\nThe Contractor will deliver: {deliverables}\n\nAgreed and Accepted:\nContractor: _______________  Date: _______________\nClient: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Partnership Agreement',\n                    'category': 'Business & Employment',\n                    'content': '''PARTNERSHIP AGREEMENT\n\nThis Partnership Agreement is entered into on {date} by and between:\n\nPartner 1: {partner1_name}\nPartner 2: {partner2_name}\n\n1. BUSINESS PURPOSE\nThe partners agree to conduct business as {business_name} for the purpose of {business_purpose}.\n\n2. CAPITAL CONTRIBUTIONS\nPartner 1 contributes: {partner1_contribution}\nPartner 2 contributes: {partner2_contribution}\n\n3. PROFIT AND LOSS SHARING\nProfits and losses shall be shared: {profit_sharing_ratio}\n\n4. MANAGEMENT\nBoth partners shall have equal management rights unless otherwise agreed.\n\n5. TERM\nThis partnership shall continue until {end_date} or until terminated by mutual agreement.\n\nPartner 1 Signature: _______________  Date: _______________\nPartner 2 Signature: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Non-Compete Agreement',\n                    'category': 'Business & Employment',\n                    'content': '''NON-COMPETE AGREEMENT\n\nThis Non-Compete Agreement is made on {date} between:\n\nCompany: {company_name}\nEmployee: {employee_name}\n\n1. NON-COMPETE COVENANT\nThe Employee agrees not to engage in any business that competes with {company_name} within {geographic_area} for a period of {duration} following termination of employment.\n\n2. RESTRICTED ACTIVITIES\nThe Employee shall not:\n- Work for competitors\n- Solicit company clients\n- Disclose trade secrets or confidential information\n\n3. CONSIDERATION\nIn exchange for this agreement, the Employee receives {consideration}.\n\n4. SEVERABILITY\nIf any provision is found unenforceable, the remaining provisions shall remain in effect.\n\nEmployee Signature: _______________  Date: _______________\nCompany Representative: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Consulting Agreement',\n                    'category': 'Business & Employment',\n                    'content': '''CONSULTING AGREEMENT\n\nThis Agreement is made on {date} between:\n\nClient: {client_name}\nConsultant: {consultant_name}\n\n1. CONSULTING SERVICES\nThe Consultant agrees to provide consulting services for {project_description}.\n\n2. COMPENSATION\nThe Client will pay {rate} per {time_unit} for a total not to exceed {maximum_amount}.\n\n3. TERM\nServices will be provided from {start_date} to {end_date}.\n\n4. DELIVERABLES\nThe Consultant will deliver: {deliverables}\n\n5. EXPENSES\n{expense_policy}\n\nConsultant: _______________  Date: _______________\nClient: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Offer Letter',\n                    'category': 'Business & Employment',\n                    'content': '''OFFER LETTER\n\nDate: {date}\n\nDear {candidate_name},\n\nWe are pleased to offer you the position of {job_title} at {company_name}.\n\nPOSITION DETAILS:\n- Start Date: {start_date}\n- Salary: {salary} per year\n- Benefits: {benefits}\n- Reporting to: {supervisor_name}\n\nThis offer is contingent upon {contingencies}.\n\nPlease sign and return this letter by {response_deadline} to accept this offer.\n\nWe look forward to welcoming you to our team!\n\nSincerely,\n{hiring_manager_name}\n{company_name}\n\nAcceptance:\nI accept this offer of employment.\n\nSignature: _______________  Date: _______________'''\n                },\n                \n                # Real Estate\n                {\n                    'title': 'Residential Lease Agreement',\n                    'category': 'Real Estate',\n                    'content': '''RESIDENTIAL LEASE AGREEMENT\n\nThis Lease Agreement is made on {date} between:\n\nLandlord: {landlord_name}\nTenant: {tenant_name}\n\n1. PROPERTY\nThe Landlord agrees to lease the property located at {property_address}.\n\n2. TERM\nThe lease term is from {start_date} to {end_date}.\n\n3. RENT\nMonthly rent is {rent_amount}, due on the {due_day} of each month.\n\n4. SECURITY DEPOSIT\nA security deposit of {deposit_amount} is required.\n\n5. UTILITIES\n{utilities_responsibility}\n\n6. MAINTENANCE\nTenant is responsible for: {tenant_responsibilities}\nLandlord is responsible for: {landlord_responsibilities}\n\nLandlord Signature: _______________  Date: _______________\nTenant Signature: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Commercial Lease Agreement',\n                    'category': 'Real Estate',\n                    'content': '''COMMERCIAL LEASE AGREEMENT\n\nThis Commercial Lease is made on {date} between:\n\nLandlord: {landlord_name}\nTenant/Business: {tenant_business_name}\n\n1. PREMISES\nThe Landlord leases to Tenant the commercial space located at {property_address}, consisting of approximately {square_footage} square feet.\n\n2. TERM\nLease term: {lease_term} beginning {start_date}.\n\n3. RENT\nBase rent: {monthly_rent} per month, plus {additional_charges}.\n\n4. USE\nThe premises shall be used for {business_purpose}.\n\n5. MAINTENANCE AND REPAIRS\n{maintenance_terms}\n\nLandlord: _______________  Date: _______________\nTenant: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Rental Application',\n                    'category': 'Real Estate',\n                    'content': '''RENTAL APPLICATION\n\nProperty Address: {property_address}\nApplication Date: {date}\n\nAPPLICANT INFORMATION:\nName: {applicant_name}\nCurrent Address: {current_address}\nPhone: {phone_number}\nEmail: {email_address}\n\nEMPLOYMENT:\nEmployer: {employer_name}\nPosition: {job_title}\nMonthly Income: {monthly_income}\n\nRENTAL HISTORY:\nPrevious Landlord: {previous_landlord}\nPrevious Address: {previous_address}\nRent Amount: {previous_rent}\n\nREFERENCES:\n{references}\n\nI authorize a credit and background check.\n\nApplicant Signature: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Roommate Agreement',\n                    'category': 'Real Estate',\n                    'content': '''ROOMMATE AGREEMENT\n\nThis Agreement is made on {date} between roommates sharing the property at {property_address}:\n\nRoommate 1: {roommate1_name}\nRoommate 2: {roommate2_name}\n\n1. RENT DIVISION\nTotal rent: {total_rent}\nRoommate 1 pays: {roommate1_share}\nRoommate 2 pays: {roommate2_share}\n\n2. UTILITIES\nUtilities will be split: {utility_split}\n\n3. SHARED SPACES\n{shared_space_rules}\n\n4. QUIET HOURS\n{quiet_hours}\n\n5. GUESTS\n{guest_policy}\n\n6. CLEANING\n{cleaning_responsibilities}\n\nRoommate 1: _______________  Date: _______________\nRoommate 2: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Property Sale Agreement',\n                    'category': 'Real Estate',\n                    'content': '''PROPERTY SALE AGREEMENT\n\nThis Agreement is made on {date} between:\n\nSeller: {seller_name}\nBuyer: {buyer_name}\n\n1. PROPERTY\nThe Seller agrees to sell the property located at {property_address}.\n\n2. PURCHASE PRICE\nThe purchase price is {purchase_price}, to be paid as follows: {payment_terms}\n\n3. CLOSING DATE\nThe sale will close on {closing_date}.\n\n4. CONDITION\nThe property is sold {condition_terms}.\n\n5. CONTINGENCIES\nThis sale is contingent upon: {contingencies}\n\nSeller Signature: _______________  Date: _______________\nBuyer Signature: _______________  Date: _______________'''\n                },\n                \n                # Financial & Loans\n                {\n                    'title': 'Promissory Note',\n                    'category': 'Financial & Loans',\n                    'content': '''PROMISSORY NOTE\n\nPrincipal Amount: {loan_amount}\nDate: {date}\n\nFOR VALUE RECEIVED, {borrower_name} (\"Borrower\") promises to pay {lender_name} (\"Lender\") the principal sum of {loan_amount}.\n\nINTEREST RATE: {interest_rate}% per annum\n\nPAYMENT TERMS:\n{payment_schedule}\n\nDUE DATE: {due_date}\n\nDEFAULT:\nIf Borrower fails to make any payment when due, the entire unpaid balance shall become immediately due and payable.\n\nBorrower Signature: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Loan Agreement',\n                    'category': 'Financial & Loans',\n                    'content': '''LOAN AGREEMENT\n\nThis Loan Agreement is made on {date} between:\n\nLender: {lender_name}\nBorrower: {borrower_name}\n\n1. LOAN AMOUNT\nThe Lender agrees to loan {loan_amount} to the Borrower.\n\n2. INTEREST\nInterest rate: {interest_rate}% per {interest_period}\n\n3. REPAYMENT\nThe Borrower will repay the loan in {number_of_payments} payments of {payment_amount} each, beginning on {first_payment_date}.\n\n4. LATE FEES\nLate payments will incur a fee of {late_fee}.\n\n5. COLLATERAL\n{collateral_description}\n\nLender: _______________  Date: _______________\nBorrower: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Installment Payment Agreement',\n                    'category': 'Financial & Loans',\n                    'content': '''INSTALLMENT PAYMENT AGREEMENT\n\nDate: {date}\n\nCreditor: {creditor_name}\nDebtor: {debtor_name}\n\nTOTAL AMOUNT OWED: {total_amount}\n\nPAYMENT PLAN:\nThe Debtor agrees to pay the amount in {number_of_installments} installments of {installment_amount} each.\n\nPAYMENT SCHEDULE:\nFirst payment due: {first_payment_date}\nSubsequent payments due: {payment_frequency}\n\nIf any payment is more than {grace_period} days late, the entire balance becomes due immediately.\n\nCreditor: _______________  Date: _______________\nDebtor: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Debt Acknowledgement Form',\n                    'category': 'Financial & Loans',\n                    'content': '''DEBT ACKNOWLEDGEMENT\n\nDate: {date}\n\nI, {debtor_name}, acknowledge that I owe {creditor_name} the sum of {debt_amount}.\n\nREASON FOR DEBT:\n{debt_reason}\n\nPAYMENT AGREEMENT:\n{payment_terms}\n\nI agree to repay this debt according to the terms outlined above.\n\nDebtor Signature: _______________  Date: _______________\nCreditor Signature: _______________  Date: _______________'''\n                },\n                \n                # Services & Freelance\n                {\n                    'title': 'Freelance Contract',\n                    'category': 'Services & Freelance',\n                    'content': '''FREELANCE CONTRACT\n\nThis Contract is made on {date} between:\n\nClient: {client_name}\nFreelancer: {freelancer_name}\n\n1. PROJECT DESCRIPTION\n{project_description}\n\n2. DELIVERABLES\n{deliverables}\n\n3. TIMELINE\nProject start: {start_date}\nDeadline: {deadline}\n\n4. PAYMENT\nTotal fee: {total_fee}\nPayment schedule: {payment_schedule}\n\n5. REVISIONS\n{revision_policy}\n\n6. OWNERSHIP\n{ownership_terms}\n\nClient: _______________  Date: _______________\nFreelancer: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Service Agreement',\n                    'category': 'Services & Freelance',\n                    'content': '''SERVICE AGREEMENT\n\nThis Agreement is made on {date} between:\n\nService Provider: {provider_name}\nClient: {client_name}\n\n1. SERVICES\nThe Provider agrees to provide: {services_description}\n\n2. TERM\nServices will be provided from {start_date} to {end_date}.\n\n3. FEES\n{fee_structure}\n\n4. PAYMENT TERMS\n{payment_terms}\n\n5. TERMINATION\n{termination_terms}\n\nProvider: _______________  Date: _______________\nClient: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Maintenance Contract',\n                    'category': 'Services & Freelance',\n                    'content': '''MAINTENANCE CONTRACT\n\nDate: {date}\n\nService Provider: {provider_name}\nClient: {client_name}\n\n1. MAINTENANCE SERVICES\nThe Provider will perform the following maintenance: {maintenance_description}\n\n2. SCHEDULE\nMaintenance will be performed {maintenance_frequency}.\n\n3. RESPONSE TIME\nEmergency response within: {emergency_response_time}\nStandard service within: {standard_response_time}\n\n4. FEES\nMonthly fee: {monthly_fee}\nEmergency service rate: {emergency_rate}\n\n5. TERM\nContract period: {contract_duration}\n\nProvider: _______________  Date: _______________\nClient: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Event Planning Contract',\n                    'category': 'Services & Freelance',\n                    'content': '''EVENT PLANNING CONTRACT\n\nDate: {date}\n\nEvent Planner: {planner_name}\nClient: {client_name}\n\nEVENT DETAILS:\nEvent: {event_name}\nDate: {event_date}\nLocation: {event_location}\nExpected Attendance: {expected_attendance}\n\nSERVICES:\n{services_included}\n\nFEES:\nTotal fee: {total_fee}\nDeposit: {deposit_amount} due {deposit_date}\nBalance due: {balance_date}\n\nCANCELLATION:\n{cancellation_policy}\n\nPlanner: _______________  Date: _______________\nClient: _______________  Date: _______________'''\n                },\n                \n                # Legal & Personal\n                {\n                    'title': 'Power of Attorney',\n                    'category': 'Legal & Personal',\n                    'content': '''POWER OF ATTORNEY\n\nI, {principal_name}, residing at {principal_address}, hereby appoint {agent_name} as my attorney-in-fact (Agent).\n\nEFFECTIVE DATE: {effective_date}\n\nPOWERS GRANTED:\nMy Agent is authorized to: {powers_description}\n\nLIMITATIONS:\n{limitations}\n\nDURATION:\nThis Power of Attorney shall {duration_terms}.\n\nREVOCATION:\nI reserve the right to revoke this Power of Attorney at any time.\n\nPrincipal Signature: _______________  Date: _______________\n\nWitness 1: _______________  Date: _______________\nWitness 2: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Living Will',\n                    'category': 'Legal & Personal',\n                    'content': '''LIVING WILL\n\nI, {declarant_name}, being of sound mind, make this Living Will to express my wishes regarding medical treatment.\n\nHEALTHCARE DECISIONS:\nIf I am unable to make my own medical decisions, I direct that: {medical_wishes}\n\nLIFE-SUSTAINING TREATMENT:\n{life_support_wishes}\n\nHEALTHCARE AGENT:\nI appoint {agent_name} as my healthcare agent to make decisions on my behalf.\n\nORGAN DONATION:\n{organ_donation_wishes}\n\nDeclarant Signature: _______________  Date: _______________\n\nWitness 1: _______________  Date: _______________\nWitness 2: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'General Release of Liability',\n                    'category': 'Legal & Personal',\n                    'content': '''GENERAL RELEASE OF LIABILITY\n\nDate: {date}\n\nI, {releasor_name}, hereby release and discharge {releasee_name} from any and all claims, damages, or liabilities arising from {incident_description}.\n\nThis release includes, but is not limited to: {claims_covered}\n\nI understand that this is a full and final release of all claims.\n\nCONSIDERATION:\nIn exchange for this release, I have received: {consideration}\n\nReleasor Signature: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Cease and Desist Letter',\n                    'category': 'Legal & Personal',\n                    'content': '''CEASE AND DESIST LETTER\n\nDate: {date}\n\nTo: {recipient_name}\nAddress: {recipient_address}\n\nRe: Cease and Desist - {violation_description}\n\nDear {recipient_name},\n\nThis letter is to demand that you immediately cease and desist from {prohibited_activity}.\n\nYour actions constitute: {legal_violation}\n\nDEMAND:\nYou must immediately: {demands}\n\nIf you fail to comply within {deadline_days} days, we will pursue legal action including: {legal_remedies}\n\nSincerely,\n{sender_name}\n{sender_address}'''\n                },\n                {\n                    'title': 'Affidavit',\n                    'category': 'Legal & Personal',\n                    'content': '''AFFIDAVIT\n\nSTATE OF {state}\nCOUNTY OF {county}\n\nI, {affiant_name}, being duly sworn, depose and state:\n\n1. I am over the age of 18 and competent to make this affidavit.\n\n2. I have personal knowledge of the facts stated herein.\n\n3. FACTS:\n{statement_of_facts}\n\n4. I declare under penalty of perjury that the foregoing is true and correct.\n\nAffiant Signature: _______________  Date: _______________\n\nSubscribed and sworn to before me on {date}\n\nNotary Public: _______________\nMy commission expires: _______________'''\n                },\n                \n                # Purchase & Sales\n                {\n                    'title': 'Bill of Sale (General)',\n                    'category': 'Purchase & Sales',\n                    'content': '''BILL OF SALE\n\nDate: {date}\n\nSeller: {seller_name}\nBuyer: {buyer_name}\n\nITEM(S) SOLD:\n{item_description}\n\nPURCHASE PRICE: {purchase_price}\n\nPAYMENT METHOD: {payment_method}\n\nCONDITION: The item is sold {condition}\n\nWARRANTY: {warranty_terms}\n\nThe Seller hereby transfers all ownership rights to the Buyer.\n\nSeller Signature: _______________  Date: _______________\nBuyer Signature: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Vehicle Bill of Sale',\n                    'category': 'Purchase & Sales',\n                    'content': '''VEHICLE BILL OF SALE\n\nDate: {date}\n\nSeller: {seller_name}\nBuyer: {buyer_name}\n\nVEHICLE INFORMATION:\nYear: {vehicle_year}\nMake: {vehicle_make}\nModel: {vehicle_model}\nVIN: {vin_number}\nMileage: {current_mileage}\n\nPURCHASE PRICE: {purchase_price}\n\nPAYMENT: Paid in full by {payment_method}\n\nThe vehicle is sold \"AS IS\" with no warranties unless stated: {warranty_terms}\n\nSeller Signature: _______________  Date: _______________\nBuyer Signature: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Purchase Agreement',\n                    'category': 'Purchase & Sales',\n                    'content': '''PURCHASE AGREEMENT\n\nDate: {date}\n\nSeller: {seller_name}\nBuyer: {buyer_name}\n\n1. ITEM/PROPERTY\n{item_description}\n\n2. PURCHASE PRICE\nTotal price: {purchase_price}\n\n3. PAYMENT TERMS\n{payment_terms}\n\n4. DELIVERY\n{delivery_terms}\n\n5. INSPECTION PERIOD\nBuyer has {inspection_days} days to inspect the item.\n\n6. WARRANTIES\n{warranty_terms}\n\nSeller: _______________  Date: _______________\nBuyer: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Sales Commission Agreement',\n                    'category': 'Purchase & Sales',\n                    'content': '''SALES COMMISSION AGREEMENT\n\nDate: {date}\n\nCompany: {company_name}\nSales Representative: {rep_name}\n\n1. APPOINTMENT\nThe Company appoints the Representative to sell: {products_services}\n\n2. TERRITORY\nSales territory: {territory}\n\n3. COMMISSION RATE\n{commission_structure}\n\n4. PAYMENT\nCommissions will be paid {payment_frequency}.\n\n5. TERM\nThis agreement is effective from {start_date} to {end_date}.\n\nCompany: _______________  Date: _______________\nRepresentative: _______________  Date: _______________'''\n                },\n                \n                # Tech & IP\n                {\n                    'title': 'Software License Agreement',\n                    'category': 'Tech & IP',\n                    'content': '''SOFTWARE LICENSE AGREEMENT\n\nDate: {date}\n\nLicensor: {licensor_name}\nLicensee: {licensee_name}\n\n1. GRANT OF LICENSE\nThe Licensor grants the Licensee a {license_type} license to use {software_name}.\n\n2. LICENSE FEE\n{license_fee_terms}\n\n3. PERMITTED USE\n{permitted_use}\n\n4. RESTRICTIONS\nThe Licensee may not: {restrictions}\n\n5. SUPPORT AND UPDATES\n{support_terms}\n\n6. TERM\nLicense term: {license_duration}\n\nLicensor: _______________  Date: _______________\nLicensee: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Website Development Agreement',\n                    'category': 'Tech & IP',\n                    'content': '''WEBSITE DEVELOPMENT AGREEMENT\n\nDate: {date}\n\nDeveloper: {developer_name}\nClient: {client_name}\n\n1. PROJECT SCOPE\nThe Developer will create a website with the following specifications: {project_specifications}\n\n2. DELIVERABLES\n{deliverables}\n\n3. TIMELINE\nProject start: {start_date}\nCompletion date: {completion_date}\n\n4. PAYMENT\nTotal fee: {total_fee}\nPayment schedule: {payment_schedule}\n\n5. REVISIONS\n{revision_policy}\n\n6. INTELLECTUAL PROPERTY\n{ip_ownership_terms}\n\n7. HOSTING AND MAINTENANCE\n{hosting_maintenance_terms}\n\nDeveloper: _______________  Date: _______________\nClient: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'App Development Agreement',\n                    'category': 'Tech & IP',\n                    'content': '''APP DEVELOPMENT AGREEMENT\n\nDate: {date}\n\nDeveloper: {developer_name}\nClient: {client_name}\n\n1. APPLICATION DETAILS\nPlatform: {platform}\nApp name: {app_name}\nDescription: {app_description}\n\n2. DEVELOPMENT SCOPE\n{development_scope}\n\n3. MILESTONES\n{milestones}\n\n4. COMPENSATION\nTotal development fee: {total_fee}\nMilestone payments: {milestone_payments}\n\n5. OWNERSHIP\n{ownership_terms}\n\n6. APP STORE SUBMISSION\n{submission_terms}\n\nDeveloper: _______________  Date: _______________\nClient: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Intellectual Property Assignment',\n                    'category': 'Tech & IP',\n                    'content': '''INTELLECTUAL PROPERTY ASSIGNMENT\n\nDate: {date}\n\nAssignor: {assignor_name}\nAssignee: {assignee_name}\n\n1. PROPERTY DESCRIPTION\nThe Assignor hereby assigns all rights, title, and interest in: {ip_description}\n\n2. CONSIDERATION\nIn exchange for this assignment, the Assignor receives: {consideration}\n\n3. REPRESENTATIONS\nThe Assignor represents that:\n- They are the sole owner of the intellectual property\n- The IP does not infringe on third-party rights\n- {additional_representations}\n\n4. FURTHER ASSURANCES\nThe Assignor agrees to execute any additional documents necessary to perfect this assignment.\n\nAssignor: _______________  Date: _______________\nAssignee: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Data Processing Agreement (DPA)',\n                    'category': 'Tech & IP',\n                    'content': '''DATA PROCESSING AGREEMENT\n\nDate: {date}\n\nData Controller: {controller_name}\nData Processor: {processor_name}\n\n1. DEFINITIONS\nPersonal Data: {data_definition}\nProcessing: {processing_definition}\n\n2. PROCESSING OBLIGATIONS\nThe Processor shall:\n- Process data only on documented instructions\n- Ensure confidentiality of data\n- Implement appropriate security measures\n\n3. DATA SECURITY\n{security_measures}\n\n4. SUB-PROCESSORS\n{subprocessor_terms}\n\n5. DATA SUBJECT RIGHTS\n{data_subject_rights}\n\n6. BREACH NOTIFICATION\nThe Processor will notify the Controller of any breach within {notification_timeframe}.\n\n7. TERM\nThis DPA is effective from {start_date} and continues until {end_date}.\n\nController: _______________  Date: _______________\nProcessor: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Trademark License Agreement',\n                    'category': 'Tech & IP',\n                    'content': '''TRADEMARK LICENSE AGREEMENT\n\nDate: {date}\n\nLicensor: {licensor_name}\nLicensee: {licensee_name}\n\n1. GRANT OF LICENSE\nThe Licensor grants the Licensee a {license_type} license to use the trademark \"{trademark_name}\".\n\n2. TERRITORY\nLicensed territory: {territory}\n\n3. LICENSE FEE\n{license_fee_terms}\n\n4. QUALITY CONTROL\nThe Licensee agrees to maintain quality standards set by the Licensor.\n\n5. TERM\nLicense period: {license_duration}\n\nLicensor: _______________  Date: _______________\nLicensee: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Equipment Rental Agreement',\n                    'category': 'Services & Freelance',\n                    'content': '''EQUIPMENT RENTAL AGREEMENT\n\nDate: {date}\n\nOwner: {owner_name}\nRenter: {renter_name}\n\nEQUIPMENT DESCRIPTION:\n{equipment_description}\n\nRENTAL PERIOD:\nFrom: {start_date}\nTo: {end_date}\n\nRENTAL FEES:\n{rental_fee_terms}\n\nDEPOSIT:\nSecurity deposit: {deposit_amount}\n\nRESPONSIBILITIES:\nThe Renter is responsible for: {renter_responsibilities}\n\nOwner: _______________  Date: _______________\nRenter: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Severance Agreement',\n                    'category': 'Business & Employment',\n                    'content': '''SEVERANCE AGREEMENT\n\nDate: {date}\n\nEmployer: {employer_name}\nEmployee: {employee_name}\n\n1. TERMINATION DATE\nEmployment will terminate on {termination_date}.\n\n2. SEVERANCE PAYMENT\nThe Employer will pay {severance_amount} as severance.\n\n3. BENEFITS CONTINUATION\n{benefits_continuation_terms}\n\n4. RELEASE OF CLAIMS\nThe Employee releases all claims against the Employer.\n\n5. CONFIDENTIALITY\n{confidentiality_terms}\n\nEmployer: _______________  Date: _______________\nEmployee: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Mutual Agreement to Terminate Contract',\n                    'category': 'Legal & Personal',\n                    'content': '''MUTUAL AGREEMENT TO TERMINATE CONTRACT\n\nDate: {date}\n\nParty 1: {party1_name}\nParty 2: {party2_name}\n\nORIGINAL CONTRACT:\nContract dated: {original_contract_date}\nContract type: {contract_type}\n\nAGREEMENT:\nThe parties mutually agree to terminate the above contract effective {termination_date}.\n\nSETTLEMENT:\n{settlement_terms}\n\nRELEASE:\nBoth parties release each other from all obligations under the original contract.\n\nParty 1: _______________  Date: _______________\nParty 2: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Catering Services Agreement',\n                    'category': 'Services & Freelance',\n                    'content': '''CATERING SERVICES AGREEMENT\n\nDate: {date}\n\nCaterer: {caterer_name}\nClient: {client_name}\n\nEVENT DETAILS:\nEvent: {event_name}\nDate: {event_date}\nLocation: {event_location}\nNumber of Guests: {guest_count}\n\nMENU:\n{menu_details}\n\nPRICING:\nTotal cost: {total_cost}\nPayment terms: {payment_terms}\n\nCANCELLATION POLICY:\n{cancellation_policy}\n\nCaterer: _______________  Date: _______________\nClient: _______________  Date: _______________'''\n                },\n                {\n                    'title': 'Loan Modification Agreement',\n                    'category': 'Financial & Loans',\n                    'content': '''LOAN MODIFICATION AGREEMENT\n\nDate: {date}\n\nLender: {lender_name}\nBorrower: {borrower_name}\n\nORIGINAL LOAN:\nOriginal loan amount: {original_loan_amount}\nOriginal loan date: {original_loan_date}\n\nMODIFICATIONS:\nNew interest rate: {new_interest_rate}\nNew payment amount: {new_payment_amount}\nNew payment schedule: {new_payment_schedule}\n\nAll other terms of the original loan remain in effect.\n\nLender: _______________  Date: _______________\nBorrower: _______________  Date: _______________'''\n                }\n            ]\n            \n            for template_data in templates_data:\n                template = Template(**template_data)\n                db.session.add(template)\n            \n            db.session.commit()\n            print(f\"Database initialized with {len(templates_data)} templates!\")\n\nif __name__ == '__main__':\n    init_db()\n    app.run(host='0.0.0.0', port=5000, debug=True)\n","size_bytes":39084},"README.md":{"content":"# Contract Template Manager\n\nA comprehensive Flask web application for managing contract templates with electronic signature capture and PDF generation.\n\n## Features\n\nâœ¨ **40 Pre-loaded Templates** across 7 categories:\n- Business & Employment (8 templates)\n- Real Estate (5 templates)  \n- Financial & Loans (5 templates)\n- Services & Freelance (6 templates)\n- Legal & Personal (6 templates)\n- Purchase & Sales (4 templates)\n- Tech & IP (6 templates)\n\nðŸ”§ **Smart Variable Detection** - Automatically finds and fills variables like `{client_name}`, `{date}`, etc.\n\nâœï¸ **E-Signature Capture** - HTML5 canvas signature with Signature Pad JS\n\nðŸ“„ **PDF Export** - Professional PDFs with embedded signatures using WeasyPrint\n\nðŸŽ¨ **Modern UI** - Clean, responsive Bootstrap 5 interface\n\n## How to Use\n\n### 1. Browse Templates\n- Visit the home page to see all available templates organized by category\n- Click on any category to view templates in that group\n\n### 2. Generate a Contract\n1. Click the **Generate** button on any template\n2. Fill in the required information (automatically detected from template variables)\n3. Draw your signature on the canvas\n4. Click **Generate Contract** to preview\n\n### 3. Download PDF\n- Review the filled contract with your signature\n- Click **Download PDF** to save the contract\n\n### 4. Manage Templates\n- **Create New**: Click \"New Template\" to add custom templates\n- **Edit**: Modify existing templates with the Edit button\n- **Delete**: Remove unwanted templates (requires confirmation)\n\n## Template Variables\n\nUse curly braces `{}` to create fillable variables in your templates:\n\n```\nThis agreement is made on {date} between {party1_name} and {party2_name}.\nThe total amount is {amount} payable by {payment_date}.\n```\n\nThe system will automatically:\n- Detect all variables\n- Generate input forms\n- Fill in values when generating contracts\n\n## Installation (Replit)\n\nDependencies are already installed:\n- Flask\n- Flask-SQLAlchemy\n- WeasyPrint\n\nThe app runs automatically when you start the Replit workspace.\n\n## Local Installation\n\n```bash\n# Install dependencies\npip install flask flask-sqlalchemy weasyprint\n\n# Run the application\npython app.py\n```\n\nVisit `http://localhost:5000` in your browser.\n\n## Technology Stack\n\n- **Backend**: Flask, SQLAlchemy\n- **Database**: SQLite\n- **PDF Generation**: WeasyPrint\n- **Frontend**: Bootstrap 5, Signature Pad JS\n- **Python**: 3.11\n\n## Project Structure\n\n```\n.\nâ”œâ”€â”€ app.py                      # Main Flask application\nâ”œâ”€â”€ templates/                  # HTML templates\nâ”‚   â”œâ”€â”€ base.html              # Base layout\nâ”‚   â”œâ”€â”€ index.html             # Home page\nâ”‚   â”œâ”€â”€ create_template.html   # Create template form\nâ”‚   â”œâ”€â”€ edit_template.html     # Edit template form\nâ”‚   â”œâ”€â”€ generate_contract.html # Contract generation\nâ”‚   â””â”€â”€ preview.html           # Preview & download\nâ”œâ”€â”€ contracts.db               # SQLite database\nâ”œâ”€â”€ README.md                  # This file\nâ””â”€â”€ replit.md                  # Project documentation\n```\n\n## Security\n\n- âœ… CSRF protection via POST methods for destructive actions\n- âœ… SQLAlchemy ORM prevents SQL injection\n- âœ… Secure session management with secret keys\n- âœ… Input validation on all forms\n\n## Support\n\nFor questions or issues, please refer to the project documentation in `replit.md`.\n\n---\n\nBuilt with â¤ï¸ using Flask and Bootstrap 5\n","size_bytes":3433},"pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.11\"\ndependencies = [\n    \"email-validator>=2.3.0\",\n    \"flask>=3.1.2\",\n    \"flask-sqlalchemy>=3.1.1\",\n    \"gunicorn>=23.0.0\",\n    \"psycopg2-binary>=2.9.11\",\n    \"weasyprint>=66.0\",\n]\n","size_bytes":304},"generate_icons.py":{"content":"\nfrom PIL import Image, ImageDraw, ImageFont\nimport os\n\ndef create_contract_icon(size, is_maskable=False):\n    \"\"\"Create a contract/document icon\"\"\"\n    # Create image with transparent background\n    img = Image.new('RGBA', (size, size), (0, 0, 0, 0))\n    draw = ImageDraw.Draw(img)\n    \n    # Calculate dimensions\n    padding = size // 8 if is_maskable else size // 16\n    \n    # Gradient background circle/square\n    if is_maskable:\n        # For maskable, fill the entire canvas\n        draw.rectangle([0, 0, size, size], fill='#FF6B35')\n    else:\n        # For regular icon, draw a rounded rectangle\n        margin = size // 10\n        draw.rounded_rectangle(\n            [margin, margin, size - margin, size - margin],\n            radius=size // 8,\n            fill='#FF6B35'\n        )\n    \n    # Draw document icon\n    doc_margin = size // 4\n    doc_width = size - (doc_margin * 2)\n    doc_height = int(doc_width * 1.3)\n    doc_top = (size - doc_height) // 2\n    \n    # Document background\n    draw.rounded_rectangle(\n        [doc_margin, doc_top, doc_margin + doc_width, doc_top + doc_height],\n        radius=size // 20,\n        fill='white'\n    )\n    \n    # Document lines\n    line_margin = doc_margin + size // 16\n    line_width = doc_width - size // 8\n    line_spacing = size // 12\n    line_thickness = max(2, size // 64)\n    \n    for i in range(4):\n        y = doc_top + size // 8 + (i * line_spacing)\n        if i == 0:\n            # Title line (shorter)\n            line_end = line_margin + (line_width // 2)\n        else:\n            line_end = line_margin + line_width\n        \n        draw.rectangle(\n            [line_margin, y, line_end, y + line_thickness],\n            fill='#FF6B35'\n        )\n    \n    # Signature line at bottom\n    sig_y = doc_top + doc_height - size // 6\n    draw.line(\n        [line_margin, sig_y, line_margin + line_width, sig_y],\n        fill='#F7931E',\n        width=line_thickness\n    )\n    \n    return img\n\n# Create static directory if it doesn't exist\nos.makedirs('static', exist_ok=True)\n\n# Generate 192x192 icons\nicon_192 = create_contract_icon(192, is_maskable=False)\nicon_192.save('static/icon-192.png')\n\nmaskable_192 = create_contract_icon(192, is_maskable=True)\nmaskable_192.save('static/icon-192-maskable.png')\n\n# Generate 512x512 icons\nicon_512 = create_contract_icon(512, is_maskable=False)\nicon_512.save('static/icon-512.png')\n\nmaskable_512 = create_contract_icon(512, is_maskable=True)\nmaskable_512.save('static/icon-512-maskable.png')\n\nprint(\"âœ… PWA icons generated successfully!\")\nprint(\"   - static/icon-192.png\")\nprint(\"   - static/icon-192-maskable.png\")\nprint(\"   - static/icon-512.png\")\nprint(\"   - static/icon-512-maskable.png\")\n","size_bytes":2696},"replit.md":{"content":"# Contract Template Manager\n\n## Overview\nA comprehensive Flask web application for managing contract templates with electronic signature capture and PDF generation. The system includes 40+ pre-populated professional contract templates across 7 categories, dynamic variable detection, e-signature functionality, and PDF export capabilities.\n\n## Features\n- **Template Management**: Create, edit, delete, and organize contract templates\n- **Pre-populated Templates**: 40 professional contract templates in 7 categories:\n  - Business & Employment (8 templates)\n  - Real Estate (5 templates)\n  - Financial & Loans (5 templates)\n  - Services & Freelance (6 templates)\n  - Legal & Personal (6 templates)\n  - Purchase & Sales (4 templates)\n  - Tech & IP (6 templates)\n- **Variable Detection**: Automatically detects variables in curly braces (e.g., {client_name})\n- **Dynamic Forms**: Auto-generates input forms based on detected variables\n- **E-Signature**: HTML5 canvas signature capture using Signature Pad JS\n- **PDF Export**: Generate professional PDFs with embedded signatures using WeasyPrint\n- **Bootstrap 5 UI**: Clean, responsive, and modern interface\n\n## Technology Stack\n- **Backend**: Flask, Flask-SQLAlchemy\n- **Database**: SQLite\n- **PDF Generation**: WeasyPrint\n- **Frontend**: Bootstrap 5, Signature Pad JS\n- **Python Version**: 3.11\n\n## Project Structure\n```\n.\nâ”œâ”€â”€ app.py                  # Main Flask application with routes and models\nâ”œâ”€â”€ templates/              # HTML templates\nâ”‚   â”œâ”€â”€ base.html          # Base template with navigation\nâ”‚   â”œâ”€â”€ index.html         # Home page listing all templates\nâ”‚   â”œâ”€â”€ create_template.html # Create new template form\nâ”‚   â”œâ”€â”€ edit_template.html  # Edit template form\nâ”‚   â”œâ”€â”€ generate_contract.html # Fill variables and capture signature\nâ”‚   â””â”€â”€ preview.html       # Preview and download contract PDF\nâ”œâ”€â”€ contracts.db           # SQLite database (auto-created)\nâ”œâ”€â”€ pyproject.toml         # Python dependencies\nâ””â”€â”€ .gitignore            # Git ignore rules\n\n## Routes\n- `/` - List all templates by category\n- `/create-template` - Create new contract template\n- `/edit-template/<id>` - Edit existing template\n- `/delete-template/<id>` - Delete template\n- `/generate-contract/<id>` - Fill variables and add signature\n- `/download-pdf` - Generate and download PDF with signature\n\n## Database Schema\n**Template Model:**\n- `id`: Primary key\n- `title`: Template name\n- `category`: Template category\n- `content`: Template text with variables\n- `created_at`: Timestamp\n\n## How to Use\n1. Browse templates on the home page organized by category\n2. Click \"Generate\" on any template to create a contract\n3. Fill in the required variables (auto-detected from template)\n4. Draw your signature on the canvas\n5. Preview the completed contract\n6. Download as PDF with embedded signature\n\n## Development Notes\n- First run automatically initializes database with sample templates\n- Variables in templates use {variable_name} format\n- Signature captured as base64 PNG image\n- PDF includes contract content and signature image\n- No authentication required (all templates are global)\n\n## Environment Variables\n- `SESSION_SECRET`: Flask secret key (auto-set by Replit)\n\n## Recent Changes\n- **October 14, 2025**: Initial implementation with full feature set\n  - Created Flask app with SQLAlchemy models\n  - Implemented all CRUD operations for templates\n  - Added 40 pre-populated professional contract templates across 7 categories\n  - Integrated Signature Pad JS for e-signature capture\n  - Implemented PDF generation with WeasyPrint\n  - Created responsive Bootstrap 5 UI\n  - Fixed delete operation to use POST method for CSRF protection\n  - All security and functionality requirements verified\n","size_bytes":3797},"static/sw.js":{"content":"\nconst CACHE_NAME = 'contract-manager-v1';\nconst urlsToCache = [\n  '/',\n  '/static/manifest.json',\n  'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css',\n  'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css',\n  'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js'\n];\n\nself.addEventListener('install', function(event) {\n  event.waitUntil(\n    caches.open(CACHE_NAME)\n      .then(function(cache) {\n        return cache.addAll(urlsToCache);\n      })\n  );\n});\n\nself.addEventListener('fetch', function(event) {\n  event.respondWith(\n    caches.match(event.request)\n      .then(function(response) {\n        if (response) {\n          return response;\n        }\n        return fetch(event.request);\n      }\n    )\n  );\n});\n\nself.addEventListener('activate', function(event) {\n  event.waitUntil(\n    caches.keys().then(function(cacheNames) {\n      return Promise.all(\n        cacheNames.filter(function(cacheName) {\n          return cacheName !== CACHE_NAME;\n        }).map(function(cacheName) {\n          return caches.delete(cacheName);\n        })\n      );\n    })\n  );\n});\n","size_bytes":1139},"main.py":{"content":"from app import app, init_db\n\ninit_db()\n\nif __name__ == '__main__':\n    app.run(debug=True)\n","size_bytes":92}},"version":2}